<!DOCTYPE html>
<html>
  <head>
    <script src="./bower_components/react/react.js"></script>
    <script src="./bower_components/react/JSXTransformer.js"></script>
    <script src="./bower_components/jquery/dist/jquery.min.js"></script>
    <script src="./bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="./bower_components/react-bootstrap/react-bootstrap.min.js"></script>
    <script src="./bower_components/smoothie/smoothie.js"></script>
    <script src="./bower_components/sockjs/sockjs.js"></script>
    <script src="./bower_components/vertxbus/vertxbus.js"></script>
    <script src="./smoothie_graphs/patient_graphs.js"></script>
    <script src="./s-pi.js"></script>
    <script>
      window.addEventListener("load", loadData);
      window.addEventListener("hashchange", loadData);
    </script>
    <link href="./bower_components/bootstrap-theme-cosmo/cosmo.min.css" rel="stylesheet">
    <link href="./bower_components/patient.css" rel="stylesheet">
    <link href="./smoothie_graphs/patient_graphs.css" rel="stylesheet">

    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <nav class="navbar navbar-default">
      <div class="container-fluid">

        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="./overview.html">S-PI</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li class="active"><a href="./overview.html">Overview <span class="sr-only">(current)</span></a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Patients <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li><a href="./patient.html#0">Mr. Seagull</a></li>
                  <li><a href="./patient.html#1">Mrs. Hawk</a></li>
                  <li><a href="./patient.html#2">Mr. Birdy</a></li>
                  <li><a href="./patient.html#3">Mr. Legoman</a></li>
                </ul>
              </li>
          </ul>

          <!-- right side of navbar -->
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Options <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a id="graphs" href="#">Turn Graphs OFF</a></li>
              </ul>
            </li>
          </ul>

        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>

    <div id='mainContainer'class="container-fluid" >
      <!-- Left hand areafor streaming graphs -->
      <div id='graphArea' class='col-md-8 graphBox'>
        <div class="jumbotron graphJumbotron">
          <div class="panel panel-default">
            <div class="panel-body graph-panel-body">
              <div class="row graph-row">
                <div class="col-md-10">
                  <div class="demo-container">
                    <canvas class="smoothie-chart" id='chart1' height='92px' width='442'></canvas>
                  </div>
                </div>
                <div class="col-md-2 number-box-col">
                  <div class="well well-lg number-well text-center">
                    <span class='number-well-text'>00</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="panel panel-default">
            <div class="panel-body graph-panel-body">
              <div class="row graph-row">
                <div class="col-md-10">
                  <div class="demo-container">
                    <canvas class="smoothie-chart" id='chart2' height='92px' width='442'></canvas>
                  </div>
                </div>
                <div class="col-md-2 number-box-col">
                  <div class="well well-lg number-well text-center">
                    <span class='number-well-text'>00</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="panel panel-default">
            <div class="panel-body graph-panel-body">
              <div class="row graph-row">
                <div class="col-md-10">
                  <div class="demo-container">
                    <canvas class="smoothie-chart" id='chart3' height='92px' width='442'></canvas>
                  </div>
                </div>
                <div class="col-md-2 number-box-col">
                  <div class="well well-lg number-well text-center">
                    <span class='number-well-text'>00</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="panel panel-default">
            <div class="panel-body graph-panel-body">
              <div class="row graph-row">
                <div class="col-md-10">
                  <div class="demo-container">
                    <canvas class="smoothie-chart" id='chart4' height='92px' width='442'></canvas>
                  </div>
                </div>
                <div class="col-md-2 number-box-col">
                  <div class="well well-lg number-well text-center">
                    <span class='number-well-text'>00</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div><!-- /.graphArea -->

      <!-- Right hand area for patient info, picture and clinical data -->
      <div id='infoArea' class='col-md-4 infoBox'>
        <div class="jumbotron infoJumbotron">
          <div id='alertPanel' class="panel info-panel panel-success">
            <div class="panel-heading">
              <h2  id='alertPanelTitle'class="panel-title info-title"> No Alerts</h2>
            </div>
            <div class="panel-body info-panel-body">
              <div id='top' class="row">
                <div class="col-sm-6 col-md-5 pic-column">
                  <a href="#" class="thumbnail">
                    <img src="patient_icon.jpg" alt="Patient Image Here">
                  </a>
                </div>
                <div class="col-sm-6 col-md-7 id-column">
                  <h2 class="name-text"></h2>
                  <table class="table table-bordered">
                    <tbody>
                      <tr>
                        <td>Age</td>
                        <td id="age"></td>
                      </tr>
                      <tr>
                        <td>Bed</td>
                        <td id="bed"></td>
                      </tr>
                      <tr>
                        <td>Status</td>
                        <td id="status"></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="row clinical-row">
                <div class="list-group clinical-list-group">
                  <a href="#" class="list-group-item" data-toggle="modal" data-target="#dataModal">Clinical Data</a>
                  <a href="#" class="list-group-item" data-toggle="modal" data-target="#labsModal">Lab Data</a>
                  <a href="#" class="list-group-item" data-toggle="modal" data-target="#medsModal">Medications</a>
                  <a href="#" class="list-group-item" data-toggle="modal" data-target="#progressModal">Progress Notes</a>
                  <li class="list-group-alert-item list-group-item" id="alert_message_row"> No Alert Messages</li>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div><!-- / infoArea -->
    </div>

    <!-- Modals HTML -->
    <div id="dataModal" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Clinical data for <span class='name-text'></span></h4>
          </div>
          <div class="modal-body">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div id="labsModal" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title">Labs</h4>
          </div>
          <div class="modal-body">
            <h5>2015-05-29</h5>
            <p>
            Basic blood tests performed. No abnormalities.
            </p>
            <h5>2015-05-29</h5>
            <p>
            Reflex tests performed. No abnormalities.
            </p>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div id="medsModal" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title">Current medication records for Lego Man</h4>
          </div>
          <div class="modal-body">
            <table class="table table-condensed">
              <tr>
                <th>Name</th>
                <th>Dose</th>
                <th>Last administered</th>
              </tr>
              <tr>
                <td>Zantac</td>
                <td>120 mg</td>
                <td>Approximately 3:30 pm, prior to Mr. Man's admission to the ICU</td>
              </tr>
              <tr>
                <td>Morphine</td>
                <td>1U</td>
                <td>6:00 pm upon admission to ICU due to extreme leg pain</td>
              </tr>
            </table>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div id="progressModal" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title">Progress Notes</h4>
          </div>
          <div class="modal-body">
            <h5>2015-05-29</h5>
            <p>
            Patient admitted with severe leg pain.
            </p>
            <h5>2015-05-30</h5>
            <p>
            Leg pain continues unabated, blood pressure high.
            </p>
            <h5>2015-06-01</h5>
            <p>
            Minor improvement in pain, still high blood pressure.
            </p>
            <h5>2015-06-02</h5>
            <p>
            Leg pain reappeared. Swelling in knee.
            </p>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript">
      $(document).ready(function() {
        var eb = new vertx.EventBus("http://api.s-pi-demo.com/streambus");
        jQuery(function($) {
          detail_graphs(eb);
        });
      });
    </script>

    <script type="text/javascript">
      var timer;
      window.onresize = function () {
          clearTimeout(timer);
          timer = setTimeout(handleResize, 100);
      };
    </script>
  </body>
</html>
